"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[50],{3050:function(s,t,e){e.r(t),e.d(t,{default:function(){return O}});var i=e(8683),o=e(5671),n=e(3144),r=e(136),a=e(5716),u=e(2791),l={},p="ProfileInfo_descriptionBlock__8sqKX",d=e(4374),c=e(885),h=e(184),f=function(s){var t=(0,u.useState)(!1),e=(0,c.Z)(t,2),i=e[0],o=e[1],n=(0,u.useState)(s.status),r=(0,c.Z)(n,2),a=r[0],l=r[1];return(0,u.useEffect)((function(){l(s.status)}),[s.status]),s.isOwner?(0,h.jsx)("div",{children:i?(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,onBlur:function(){o(!1),s.updateStatusTC(a)},onChange:function(s){l(s.currentTarget.value)},value:a})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){o(!0)},children:a||"Your status"})})}):(0,h.jsx)("div",{children:(0,h.jsx)("span",{children:a||"\u0417\u0434\u0435\u0441\u044c \u0431\u044b \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 "+s.name})})},m=function(s){if(s.profile){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:"".concat("/Samuray-way","/img/fon.jpg")})}),(0,h.jsxs)("div",{className:p,children:[(0,h.jsx)("img",{src:s.profile.photos.large?s.profile.photos.large:"".concat("/Samuray-way","/img/user5.png"),width:"200px"}),s.isOwner&&(0,h.jsx)("input",{type:"file",onChange:function(t){var e;null!==(e=t.target.files)&&void 0!==e&&e.length&&s.savePhoto(t.target.files[0])}}),(0,h.jsxs)("div",{children:[s.profile.fullName&&(0,h.jsxs)("div",{children:["FullName: ",s.profile.fullName]}),s.profile.aboutMe&&(0,h.jsxs)("div",{children:["aboutMe: ",s.profile.aboutMe]}),(0,h.jsx)(f,{status:s.status,updateStatusTC:s.updateStatusTC,isOwner:s.isOwner,name:s.profile.fullName}),(0,h.jsx)("div",{children:"contacts:"}),s.profile.contacts.vk&&(0,h.jsxs)("div",{children:["vk:",s.profile.contacts.vk]}),s.profile.contacts.twitter&&(0,h.jsxs)("div",{children:["twitter:",s.profile.contacts.twitter]}),s.profile.contacts.instagram&&(0,h.jsxs)("div",{children:["instagram: ",s.profile.contacts.instagram]}),s.profile.contacts.github&&(0,h.jsxs)("div",{children:["github: ",s.profile.contacts.github]})]})]})]})}return(0,h.jsx)(d.Z,{})},v=e(2457),j=e(364),x="MyPosts_postsBlock__I7u66",g="MyPosts_posts__84rU-",y="Post_item__Ury9y",P=function(s){return(0,h.jsxs)("div",{className:y,children:[(0,h.jsx)("img",{src:s.photo}),s.message,(0,h.jsx)("div",{children:(0,h.jsxs)("span",{children:["like: ",s.like]})})]})},C=e(6139),w=e(704),k=e(3079),S=e(3825),b=u.memo((function(s){var t=s.posts.map((function(t){var e;return(0,h.jsx)(P,{message:t.message,like:t.like,photo:null===(e=s.photo)||void 0===e?void 0:e.small},t.id)}));return(0,h.jsxs)("div",{className:x,children:[(0,h.jsx)("h3",{children:"My post"}),(0,h.jsx)("div",{children:(0,h.jsx)(_,{onSubmit:function(t){s.addPost(t.newPostBody),t.newPostBody=""}})}),(0,h.jsx)("div",{className:g,children:(0,h.jsx)("div",{children:t})})]})})),_=(0,w.Z)({form:"MyPostsAddMessageForm"})((function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(C.Z,{component:S.I,name:"newPostBody",placeholder:"Enter your post",validate:[k.lp,k.cE]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),T=(0,j.$j)((function(s){var t;return{posts:s.profilePage.posts,photo:null===(t=s.profilePage.profile)||void 0===t?void 0:t.photos}}),{addPost:v.q2})(b),Z=function(s){return(0,h.jsxs)("div",{className:l.content,children:[s.profile?(0,h.jsx)(m,{profile:s.profile,status:s.status,updateStatusTC:s.updateStatusTC,isOwner:s.isOwner,savePhoto:s.savePhoto}):(0,h.jsx)(d.Z,{}),(0,h.jsx)(T,{})]})},I=e(9271),M=e(7781),N=e(2163),U=function(s){(0,r.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,o.Z)(this,e),t.apply(this,arguments)}return(0,n.Z)(e,[{key:"onUpdateComponent",value:function(){var s=this.props.match.params.userId;s||(s=this.props.myId.toString()),this.props.setUserProfileTC(s),this.props.setUserStatusTC(s)}},{key:"componentDidMount",value:function(){this.onUpdateComponent()}},{key:"componentDidUpdate",value:function(s,t){console.log("updateProps",s,t),s.match.params.userId!==this.props.match.params.userId&&this.onUpdateComponent()}},{key:"render",value:function(){return(0,h.jsx)(Z,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC,isOwner:this.props.myId===this.props.id,savePhoto:this.props.savePhoto}))}}]),e}(u.Component),O=(0,M.qC)((0,j.$j)((function(s){var t;return{profile:s.profilePage.profile,status:s.profilePage.status,id:null===(t=s.profilePage.profile)||void 0===t?void 0:t.userId,myId:s.authMe.id}}),{setUserStatusTC:v.hd,setUserProfileTC:v.bq,updateStatusTC:v.OG,savePhoto:v.Ju}),I.EN,N.e)(U)}}]);
//# sourceMappingURL=50.d417cd65.chunk.js.map