"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[367],{6367:function(e,s,a){a.r(s),a.d(s,{default:function(){return V}});var i=a(7850),r=a(885),n=a(2791),d="Dialogs_dialogs__TN-Cn",o="Dialogs_dialogsWrapper__y-Q32",l="Dialogs_cross__EDiRT",t="Dialogs_dialogsItems__-twkq",c="Dialogs_dialogsItemsImg__fjMwx",m="Dialogs_dialog__smq6R",g="Dialogs_active__JZz+y",_="Dialogs_messages__QEj23",u="Dialogs_addForm__S7uGk",x="Dialogs_bottomRef__wIUvx",h="Dialogs_preloader__RGPui",j=a(1523),f=a(184),M=function(e){var s=function(){return e.setCurrentUser(e.user)};return(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)(j.OL,{className:"".concat(m),onClick:s,activeClassName:g,to:"/dialogs/"+e.user.id,children:e.user.name}),(0,f.jsx)(j.OL,{className:"".concat(m),onClick:s,activeClassName:g,to:"/dialogs/"+e.user.id,children:(0,f.jsx)("img",{src:e.user.srs,width:"50px",height:"50px"})})]})},v=a(6139),N=a(704),p=a(8683),C=a(5987),F="InputForMessage_formControl__hE8Sa",y="InputForMessage_formControlError__QYzZh",I="InputForMessage_spanFormControlError__dBeGb",w="InputForMessage_form__TgMfC",D=a(5984),T=["input","meta"],Z=function(e){var s=e.input,a=e.meta,i=(0,C.Z)(e,T),r=a.touched&&a.error;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("div",{className:w,children:[(0,f.jsx)("input",(0,p.Z)((0,p.Z)((0,p.Z)({className:F+" "+(r?y:"")},i),s),a)),(0,f.jsx)(D.z,{name:"Add post",size:"large",callBack:function(){},color:"blue"})]}),(0,f.jsx)("div",{children:r&&(0,f.jsx)("div",{className:I,children:a.error})})]})},b=(0,N.Z)({form:"dialogAddMessageForm"})((function(e){return(0,f.jsx)("form",{onSubmit:e.handleSubmit,children:(0,f.jsx)("div",{className:u,children:(0,f.jsx)(v.Z,{component:Z,name:"newMessageBody",placeholder:"Enter your message"})})})})),k="FriendMessage_friendMessage__WhCsF",P="FriendMessage_friendImageAndText__iXbzA",z="FriendMessage_friendText__YrIed",B="FriendMessage_friendName__sAEa2",E="FriendMessage_friendMessageText__znA4M",A="FriendMessage_friendTime__7rzg2",R=function(e){return(0,f.jsxs)("div",{className:k,children:[(0,f.jsxs)("div",{className:P,children:[(0,f.jsx)("img",{src:e.friend.srs}),(0,f.jsxs)("div",{className:z,children:[(0,f.jsx)("div",{className:B,children:e.friend.name}),(0,f.jsx)("div",{className:E,children:e.message.message})]})]}),(0,f.jsx)("div",{className:A,children:e.message.time})]})},S="MyMessage_message__MITEC",Q="MyMessage_imageAndText__Zpaif",U="MyMessage_text__fbZD2",q="MyMessage_name__9BRQ5",G="MyMessage_messageText__-xufB",L="MyMessage_time__IuLdr",O=function(e){return(0,f.jsxs)("div",{className:S,children:[(0,f.jsxs)("div",{className:Q,children:[(0,f.jsx)("img",{src:e.userPhoto}),(0,f.jsxs)("div",{className:U,children:[(0,f.jsx)("div",{className:q,children:e.userName}),(0,f.jsx)("div",{className:G,children:e.message.message})]})]}),(0,f.jsx)("div",{className:L,children:e.message.time})]})},W=a(1529),Y=a(9036),H=a(364),J=a(7897),V=(0,a(7781).qC)((0,H.$j)((function(e){var s;return{dialogsPage:e.dialogsPage,userName:e.authMe.login,userPhoto:null===(s=e.profilePage.profile)||void 0===s?void 0:s.photos.small}}),{addMessage:i.Hz,addFriendMessage:i.zI}),J.e)((function(e){var s=e.userPhoto||(0,Y.R)("/img/myPhoto.jpeg"),a=e.dialogsPage,i=(0,n.useRef)(null),c=(0,n.useState)(a.dialogs[0]),m=(0,r.Z)(c,2),g=m[0],u=m[1],j=(0,n.useState)(!1),v=(0,r.Z)(j,2),N=v[0],p=v[1],C=a.dialogs.map((function(e){return(0,f.jsx)(M,{user:e,setCurrentUser:u},e.id)})),F=a.messages.map((function(a){return"0"===a.userId?(0,f.jsx)(O,{message:a,userName:e.userName,userPhoto:s}):(0,f.jsx)(R,{message:a,friend:g})}));return(0,f.jsxs)("div",{className:d,children:[(0,f.jsxs)("div",{className:o,children:[(0,f.jsx)("div",{className:t,children:C}),(0,f.jsx)("div",{className:l}),(0,f.jsxs)("div",{className:_,children:[F,N&&(0,f.jsx)("span",{className:h,children:(0,f.jsx)(W.p9,{width:"30px"})}),(0,f.jsx)("div",{className:x,ref:i})]})]}),(0,f.jsx)("div",{onClick:function(e){"BUTTON"===e.target.tagName&&i.current.scrollIntoView({behavior:"smooth"})},children:(0,f.jsx)(b,{onSubmit:function(s){s.newMessageBody.trim()&&(e.addMessage(s.newMessageBody),s.newMessageBody="",p(!0),setTimeout((function(){e.addFriendMessage(),p(!1)}),2e3))}})})]})}))}}]);
//# sourceMappingURL=367.5be0a041.chunk.js.map