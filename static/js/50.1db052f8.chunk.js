"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[50],{3050:function(s,t,e){e.r(t),e.d(t,{default:function(){return I}});var i=e(8683),n=e(5671),o=e(3144),r=e(136),a=e(5716),u=e(2791),c={},l="ProfileInfo_descriptionBlock__8sqKX",d=e(4374),p=e(885),f=e(184),h=function(s){var t=(0,u.useState)(!1),e=(0,p.Z)(t,2),i=e[0],n=e[1],o=(0,u.useState)(s.status),r=(0,p.Z)(o,2),a=r[0],c=r[1];return(0,u.useEffect)((function(){c(s.status)}),[s.status]),(0,f.jsx)("div",{children:i?(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){n(!1),s.updateStatusTC(a)},onChange:function(s){c(s.currentTarget.value)},value:a})}):(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){n(!0)},children:a||"Your status"})})})},m=function(s){return s.profile?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{children:(0,f.jsx)("img",{src:"".concat("/Samuray-way","/img/fon.jpg")})}),(0,f.jsxs)("div",{className:l,children:[(0,f.jsx)("img",{src:s.profile.photos.large?s.profile.photos.large:"".concat("/Samuray-way","/img/user5.png"),width:"200px"}),(0,f.jsxs)("div",{children:[s.profile.fullName&&(0,f.jsxs)("div",{children:["FullName: ",s.profile.fullName]}),s.profile.aboutMe&&(0,f.jsxs)("div",{children:["aboutMe: ",s.profile.aboutMe]}),(0,f.jsx)(h,{status:s.status,updateStatusTC:s.updateStatusTC}),(0,f.jsx)("div",{children:"contacts:"}),s.profile.contacts.vk&&(0,f.jsxs)("div",{children:["vk:",s.profile.contacts.vk]}),s.profile.contacts.twitter&&(0,f.jsxs)("div",{children:["twitter:",s.profile.contacts.twitter]}),s.profile.contacts.instagram&&(0,f.jsxs)("div",{children:["instagram: ",s.profile.contacts.instagram]}),s.profile.contacts.github&&(0,f.jsxs)("div",{children:["github: ",s.profile.contacts.github]})]})]})]}):(0,f.jsx)(d.Z,{})},j=e(2457),x=e(364),v="MyPosts_postsBlock__I7u66",g="MyPosts_posts__84rU-",y="Post_item__Ury9y",C=function(s){return(0,f.jsxs)("div",{className:y,children:[(0,f.jsx)("img",{src:"".concat("/Samuray-way","/img/user5.png")}),s.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:["like: ",s.like]})})]})},k=e(6139),S=e(704),P=e(3079),b=e(3825),w=u.memo((function(s){console.log("MyPosts");var t=s.posts.map((function(s){return(0,f.jsx)(C,{message:s.message,like:s.like},s.id)}));return(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)("h3",{children:"My post"}),(0,f.jsx)("div",{children:(0,f.jsx)(_,{onSubmit:function(t){console.log(t),s.addPost(t.newPostBody),t.newPostBody=""}})}),(0,f.jsx)("div",{className:g,children:(0,f.jsx)("div",{children:t})})]})})),_=(0,S.Z)({form:"MyPostsAddMessageForm"})((function(s){return(0,f.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(k.Z,{component:b.I,name:"newPostBody",placeholder:"Enter your post",validate:[P.lp,P.cE]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),T=(0,x.$j)((function(s){return{posts:s.profilePage.posts}}),{addPost:j.q2})(w),Z=function(s){return(0,f.jsxs)("div",{className:c.content,children:[s.profile?(0,f.jsx)(m,{profile:s.profile,status:s.status,updateStatusTC:s.updateStatusTC}):(0,f.jsx)(d.Z,{}),(0,f.jsx)(T,{})]})},M=e(9271),U=e(7781),N=e(2163),B=function(s){(0,r.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,o.Z)(e,[{key:"onUpdateComponent",value:function(){if(+this.props.match.params.userId!==this.props.id){var s=this.props.match.params.userId;this.props.setUserProfileTC(s),this.props.setUserStatusTC(s)}}},{key:"componentDidMount",value:function(){this.onUpdateComponent()}},{key:"componentDidUpdate",value:function(){this.onUpdateComponent()}},{key:"render",value:function(){return(0,f.jsx)(Z,(0,i.Z)((0,i.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC}))}}]),e}(u.Component),I=(0,U.qC)((0,x.$j)((function(s){var t;return{profile:s.profilePage.profile,status:s.profilePage.status,id:null===(t=s.profilePage.profile)||void 0===t?void 0:t.userId}}),{setUserStatusTC:j.hd,setUserProfileTC:j.bq,updateStatusTC:j.OG}),M.EN,N.e)(B)}}]);
//# sourceMappingURL=50.1db052f8.chunk.js.map